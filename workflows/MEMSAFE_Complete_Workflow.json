{
  "last_node_id": 12,
  "last_link_id": 15,
  "nodes": [
    {
      "id": 1,
      "type": "LoadImage",
      "pos": [50, 200],
      "size": {"0": 315, "1": 314},
      "flags": {},
      "order": 0,
      "mode": 0,
      "outputs": [
        {"name": "IMAGE", "type": "IMAGE", "links": [1], "shape": 3, "label": "IMAGE"},
        {"name": "MASK", "type": "MASK", "links": null, "shape": 3}
      ],
      "properties": {"Node name for S&R": "LoadImage"},
      "widgets_values": ["example.png", "image"]
    },
    {
      "id": 2,
      "type": "LoadAudio",
      "pos": [50, 550],
      "size": {"0": 315, "1": 124},
      "flags": {},
      "order": 1,
      "mode": 0,
      "outputs": [
        {"name": "AUDIO", "type": "AUDIO", "links": [2], "shape": 3}
      ],
      "properties": {"Node name for S&R": "LoadAudio"},
      "widgets_values": ["audio.wav", "audio"]
    },
    {
      "id": 3,
      "type": "VideoLengthAdjuster",
      "pos": [400, 200],
      "size": {"0": 315, "1": 178},
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [
        {"name": "images", "type": "IMAGE", "link": 1},
        {"name": "audio", "type": "AUDIO", "link": 2}
      ],
      "outputs": [
        {"name": "images", "type": "IMAGE", "links": [3], "shape": 3},
        {"name": "audio", "type": "AUDIO", "links": [4], "shape": 3}
      ],
      "properties": {"Node name for S&R": "VideoLengthAdjuster"},
      "widgets_values": ["loop_to_audio", 25.0, 0.5]
    },
    {
      "id": 4,
      "type": "GPUBenchmarkNode",
      "pos": [50, 50],
      "size": {"0": 315, "1": 82},
      "flags": {},
      "order": 3,
      "mode": 0,
      "outputs": [
        {"name": "report", "type": "STRING", "links": [5], "shape": 3}
      ],
      "properties": {"Node name for S&R": "GPUBenchmarkNode"},
      "widgets_values": [10]
    },
    {
      "id": 5,
      "type": "GPUConfigNode",
      "pos": [400, 50],
      "size": {"0": 315, "1": 126},
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [
        {"name": "trigger", "type": "*", "link": 5}
      ],
      "outputs": [
        {"name": "config", "type": "GPU_CONFIG", "links": null, "shape": 3},
        {"name": "info", "type": "STRING", "links": [6], "shape": 3}
      ],
      "properties": {"Node name for S&R": "GPUConfigNode"},
      "widgets_values": [0.85, 0, false]
    },
    {
      "id": 6,
      "type": "ShowText|pysssss",
      "pos": [750, 50],
      "size": {"0": 315, "1": 200},
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {"name": "text", "type": "STRING", "link": 6}
      ],
      "outputs": [
        {"name": "STRING", "type": "STRING", "links": null, "shape": 3}
      ],
      "properties": {"Node name for S&R": "ShowText|pysssss"},
      "widgets_values": ["GPU Info"]
    },
    {
      "id": 7,
      "type": "LatentSyncNode",
      "pos": [750, 300],
      "size": {"0": 315, "1": 442},
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        {"name": "images", "type": "IMAGE", "link": 3},
        {"name": "audio", "type": "AUDIO", "link": 4}
      ],
      "outputs": [
        {"name": "images", "type": "IMAGE", "links": [7, 10], "shape": 3},
        {"name": "audio", "type": "AUDIO", "links": [8], "shape": 3},
        {"name": "video_path", "type": "STRING", "links": [9], "shape": 3}
      ],
      "properties": {"Node name for S&R": "LatentSyncNode"},
      "widgets_values": [
        1247,
        1.5,
        20,
        0.85,
        "balanced",
        "balanced",
        true,
        false,
        "auto"
      ]
    },
    {
      "id": 8,
      "type": "CopyVideoFile",
      "pos": [1100, 550],
      "size": {"0": 315, "1": 266},
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        {"name": "video_path", "type": "STRING", "link": 9}
      ],
      "outputs": [
        {"name": "saved_path", "type": "STRING", "links": [11], "shape": 3}
      ],
      "properties": {"Node name for S&R": "CopyVideoFile"},
      "widgets_values": [
        "",
        "latentsync_output",
        "outputs",
        "",
        "copy",
        true,
        false
      ]
    },
    {
      "id": 9,
      "type": "SaveImage",
      "pos": [1100, 300],
      "size": {"0": 315, "1": 270},
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {"name": "images", "type": "IMAGE", "link": 10}
      ],
      "properties": {"Node name for S&R": "SaveImage"},
      "widgets_values": ["ComfyUI"]
    },
    {
      "id": 10,
      "type": "SaveAudio",
      "pos": [1100, 50],
      "size": {"0": 315, "1": 96},
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {"name": "audio", "type": "AUDIO", "link": 8}
      ],
      "properties": {"Node name for S&R": "SaveAudio"},
      "widgets_values": ["audio_output"]
    },
    {
      "id": 11,
      "type": "ShowText|pysssss",
      "pos": [1450, 550],
      "size": {"0": 315, "1": 200},
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {"name": "text", "type": "STRING", "link": 11}
      ],
      "outputs": [
        {"name": "STRING", "type": "STRING", "links": null, "shape": 3}
      ],
      "properties": {"Node name for S&R": "ShowText|pysssss"},
      "widgets_values": ["Saved Video Path"]
    },
    {
      "id": 12,
      "type": "Note",
      "pos": [400, 850],
      "size": {"0": 600, "1": 300},
      "flags": {},
      "order": 11,
      "mode": 0,
      "properties": {"text": ""},
      "widgets_values": ["MEMSAFE Complete Workflow\n\n1. GPU Benchmark runs first to test your system\n2. GPU Config shows your GPU settings (85% VRAM usage)\n3. Load your image sequence/video and audio\n4. Video Length Adjuster syncs video length to audio\n5. LatentSync 1.6 processes with:\n   - Balanced optimization\n   - Balanced memory mode\n   - Disk cache enabled for long videos\n   - Auto output mode (frames or file based on length)\n6. Three save options:\n   - Save Audio (resampled)\n   - Save Image (if frames returned)\n   - Copy/Save Video File (if path returned)\n\nTips:\n- For long videos (>200 frames), set output_mode='video_file'\n- For short videos, use 'frames' for further processing\n- Adjust vram_fraction if you get OOM errors\n- Use 'conservative' memory_mode for very long videos"]
    }
  ],
  "links": [
    [1, 1, 0, 3, 0, "IMAGE"],
    [2, 2, 0, 3, 1, "AUDIO"],
    [3, 3, 0, 7, 0, "IMAGE"],
    [4, 3, 1, 7, 1, "AUDIO"],
    [5, 4, 0, 5, 0, "*"],
    [6, 5, 1, 6, 0, "STRING"],
    [7, 7, 0, 9, 0, "IMAGE"],
    [8, 7, 1, 10, 0, "AUDIO"],
    [9, 7, 2, 8, 0, "STRING"],
    [10, 7, 0, 9, 0, "IMAGE"],
    [11, 8, 0, 11, 0, "STRING"]
  ],
  "groups": [
    {
      "title": "Input Loading",
      "bounding": [40, -20, 340, 680],
      "color": "#3f789e",
      "font_size": 24
    },
    {
      "title": "GPU Configuration",
      "bounding": [390, -20, 690, 220],
      "color": "#b58b2a",
      "font_size": 24
    },
    {
      "title": "Video Processing",
      "bounding": [390, 230, 340, 180],
      "color": "#8A8",
      "font_size": 24
    },
    {
      "title": "LatentSync Processing",
      "bounding": [740, 230, 340, 530],
      "color": "#a1309b",
      "font_size": 24
    },
    {
      "title": "Output Saving",
      "bounding": [1090, -20, 690, 850],
      "color": "#88A",
      "font_size": 24
    }
  ],
  "config": {},
  "extra": {},
  "version": 0.4
}